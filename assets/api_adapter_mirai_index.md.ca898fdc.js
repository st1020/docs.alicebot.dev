import{_ as e,c as a,o as i,a as t}from"./app.bec4a1f1.js";const _=JSON.parse('{"title":"alicebot.adapter.mirai","description":"","frontmatter":{},"headers":[{"level":2,"title":"class MiraiAdapter(self, bot) {#MiraiAdapter}","slug":"MiraiAdapter"},{"level":3,"title":"async method call_api(self, command, sub_command = None, **content) {#MiraiAdapter.call_api}","slug":"MiraiAdapter.call_api"},{"level":3,"title":"readonly property config {#MiraiAdapter.config}","slug":"MiraiAdapter.config"},{"level":3,"title":"async method handle_mirai_event(self, msg) {#MiraiAdapter.handlemiraievent}","slug":"MiraiAdapter.handle_mirai_event"},{"level":3,"title":"async method handle_websocket_msg(self, msg) {#MiraiAdapter.handlewebsocketmsg}","slug":"MiraiAdapter.handle_websocket_msg"},{"level":3,"title":"async method reverse_ws_connection_hook(self) {#MiraiAdapter.reversewsconnection_hook}","slug":"MiraiAdapter.reverse_ws_connection_hook"},{"level":3,"title":"async method send(self, message_, message_type, target, quote = None) {#MiraiAdapter.send}","slug":"MiraiAdapter.send"},{"level":3,"title":"async method startup(self) {#MiraiAdapter.startup}","slug":"MiraiAdapter.startup"},{"level":3,"title":"async method verify_identity(self) {#MiraiAdapter.verify_identity}","slug":"MiraiAdapter.verify_identity"},{"level":3,"title":"async method websocket_connect(self) {#MiraiAdapter.websocket_connect}","slug":"MiraiAdapter.websocket_connect"}],"relativePath":"api/adapter/mirai/index.md","lastUpdated":null}'),r={name:"api/adapter/mirai/index.md"},s=t('<h1 id="alicebot-adapter-mirai" tabindex="-1">alicebot.adapter.mirai <a class="header-anchor" href="#alicebot-adapter-mirai" aria-hidden="true">#</a></h1><p>Mirai \u534F\u8BAE\u9002\u914D\u5668\u3002</p><p>\u672C\u9002\u914D\u5668\u9002\u914D\u4E86 mirai-api-http \u534F\u8BAE\uFF0C\u4EC5\u652F\u6301 mirai-api-http 2.3.0 \u53CA\u4EE5\u4E0A\u7248\u672C\u3002 \u672C\u9002\u914D\u5668\u652F\u6301 mirai-api-http \u7684 Websocket Adapter \u6A21\u5F0F\u548C Reverse Websocket Adapter \u6A21\u5F0F\u3002 \u534F\u8BAE\u8BE6\u60C5\u8BF7\u53C2\u8003: <a href="https://github.com/project-mirai/mirai-api-http" target="_blank" rel="noopener noreferrer">mirai-api-http</a> \u3002</p><h2 id="MiraiAdapter" tabindex="-1"><em>class</em> <code>MiraiAdapter</code>(self, bot) <a class="header-anchor" href="#MiraiAdapter" aria-hidden="true">#</a></h2><p>Bases: <code>alicebot.adapter.utils.WebSocketAdapter</code></p><p>Mirai \u534F\u8BAE\u9002\u914D\u5668\u3002</p><p>\u5728\u63D2\u4EF6\u4E2D\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 <code>self.adapter.xxx_api(**params)</code> \u8C03\u7528\u540D\u79F0\u4E3A <code>xxx_api</code> \u7684 API\uFF0C \u548C\u8C03\u7528 <code>call_api()</code> \u65B9\u6CD5\u76F8\u540C\u3002</p><ul><li><p><strong>Arguments</strong></p><ul><li><strong>bot</strong> (<em>Bot</em>)</li></ul></li><li><p><strong>Attributes</strong></p><ul><li><p><strong>name</strong> (<em>str</em>)</p></li><li><p><strong>api_response_cond</strong> (<em>alicebot.utils.Condition</em>)</p></li></ul></li></ul><h3 id="MiraiAdapter.call_api" tabindex="-1"><em>async method</em> <code>call_api(self, command, sub_command = None, **content)</code> <a class="header-anchor" href="#MiraiAdapter.call_api" aria-hidden="true">#</a></h3><p>\u8C03\u7528 Mirai API\uFF0C\u534F\u7A0B\u4F1A\u7B49\u5F85\u76F4\u5230\u83B7\u5F97 API \u54CD\u5E94\u3002</p><ul><li><p><strong>Arguments</strong></p><ul><li><p><strong>command</strong> (<em>str</em>) - \u547D\u4EE4\u5B57\u3002</p></li><li><p><strong>sub_command</strong> (<em>Union[str, NoneType]</em>) - \u5B50\u547D\u4EE4\u5B57\u3002</p></li><li><p>**<strong>content</strong> - \u8BF7\u6C42\u5185\u5BB9\u3002</p></li></ul></li><li><p><strong>Returns</strong></p><p>Type: <em>Dict[str, Any]</em></p><p>API \u54CD\u5E94\u4E2D\u7684 data \u5B57\u6BB5\uFF0C\u5373 Mirai-api-http API \u901A\u7528\u63A5\u53E3\u4E2D\u7684\u5185\u5BB9\u3002</p></li><li><p><strong>Raises</strong></p><ul><li><p><strong>NetworkError</strong> - \u7F51\u7EDC\u9519\u8BEF\u3002</p></li><li><p><strong>ActionFailed</strong> - API \u64CD\u4F5C\u5931\u8D25\u3002</p></li><li><p><strong>ApiTimeout</strong> - API \u8BF7\u6C42\u54CD\u5E94\u8D85\u65F6\u3002</p></li></ul></li></ul><h3 id="MiraiAdapter.config" tabindex="-1"><em>readonly property</em> <code>config</code> <a class="header-anchor" href="#MiraiAdapter.config" aria-hidden="true">#</a></h3><p>\u672C\u9002\u914D\u5668\u7684\u914D\u7F6E\u3002</p><h3 id="MiraiAdapter.handle_mirai_event" tabindex="-1"><em>async method</em> <code>handle_mirai_event(self, msg)</code> <a class="header-anchor" href="#MiraiAdapter.handle_mirai_event" aria-hidden="true">#</a></h3><p>\u5904\u7406 Mirai \u4E8B\u4EF6\u3002</p><ul><li><p><strong>Arguments</strong></p><ul><li><strong>msg</strong> (<em>Dict[str, Any]</em>) - \u63A5\u6536\u5230\u7684\u4FE1\u606F\u3002</li></ul></li></ul><h3 id="MiraiAdapter.handle_websocket_msg" tabindex="-1"><em>async method</em> <code>handle_websocket_msg(self, msg)</code> <a class="header-anchor" href="#MiraiAdapter.handle_websocket_msg" aria-hidden="true">#</a></h3><p>\u5904\u7406 WebSocket \u6D88\u606F\u3002</p><ul><li><p><strong>Arguments</strong></p><ul><li><strong>msg</strong> (<em>aiohttp.http_websocket.WSMessage</em>)</li></ul></li></ul><h3 id="MiraiAdapter.reverse_ws_connection_hook" tabindex="-1"><em>async method</em> <code>reverse_ws_connection_hook(self)</code> <a class="header-anchor" href="#MiraiAdapter.reverse_ws_connection_hook" aria-hidden="true">#</a></h3><p>\u53CD\u5411 WebSocket \u8FDE\u63A5\u5EFA\u7ACB\u65F6\u7684\u94A9\u5B50\u51FD\u6570\u3002</p><h3 id="MiraiAdapter.send" tabindex="-1"><em>async method</em> <code>send(self, message_, message_type, target, quote = None)</code> <a class="header-anchor" href="#MiraiAdapter.send" aria-hidden="true">#</a></h3><p>\u8C03\u7528 Mirai API \u53D1\u9001\u6D88\u606F\u3002</p><ul><li><p><strong>Arguments</strong></p><ul><li><p><strong>message_</strong> (<em>T_MiraiMSG</em>) - \u6D88\u606F\u5185\u5BB9\uFF0C\u53EF\u4EE5\u662F str, Mapping, Iterable[Mapping], &#39;MiraiMessageSegment&#39;, &#39;MiraiMessage&#39;\u3002 \u5C06\u4F7F\u7528 <code>MiraiMessage</code> \u8FDB\u884C\u5C01\u88C5\u3002</p></li><li><p><strong>message_type</strong> (<em>Literal[&#39;private&#39;, &#39;friend&#39;, &#39;group&#39;]</em>) - \u6D88\u606F\u7C7B\u578B\u3002\u5E94\u8BE5\u662F private, friend \u6216\u8005 group\u3002\u5176\u4E2D private \u548C friend \u76F8\u540C\u3002</p></li><li><p><strong>target</strong> (<em>int</em>) - \u53D1\u9001\u5BF9\u8C61\u7684 ID \uFF0CQQ \u53F7\u7801\u6216\u8005\u7FA4\u53F7\u7801\u3002</p></li><li><p><strong>quote</strong> (<em>int</em>) - \u5F15\u7528\u7684\u6D88\u606F\u7684 messageId\u3002\u9ED8\u8BA4\u4E3A <code>None</code> \uFF0C\u4E0D\u5F15\u7528\u4EFB\u4F55\u6D88\u606F\u3002</p></li></ul></li><li><p><strong>Returns</strong></p><p>Type: <em>Dict[str, Any]</em></p><p>API \u54CD\u5E94\u3002</p></li><li><p><strong>Raises</strong></p><ul><li><p><strong>TypeError</strong> - message_type \u975E\u6CD5\u3002</p></li><li><p><strong>...</strong> - \u540C <code>call_api()</code> \u65B9\u6CD5\u3002</p></li></ul></li></ul><h3 id="MiraiAdapter.startup" tabindex="-1"><em>async method</em> <code>startup(self)</code> <a class="header-anchor" href="#MiraiAdapter.startup" aria-hidden="true">#</a></h3><p>\u521D\u59CB\u5316\u9002\u914D\u5668\u3002</p><h3 id="MiraiAdapter.verify_identity" tabindex="-1"><em>async method</em> <code>verify_identity(self)</code> <a class="header-anchor" href="#MiraiAdapter.verify_identity" aria-hidden="true">#</a></h3><p>\u9A8C\u8BC1\u8EAB\u4EFD\uFF0C\u521B\u5EFA\u4E0E Mirai-api-http \u7684\u8FDE\u63A5\u3002</p><h3 id="MiraiAdapter.websocket_connect" tabindex="-1"><em>async method</em> <code>websocket_connect(self)</code> <a class="header-anchor" href="#MiraiAdapter.websocket_connect" aria-hidden="true">#</a></h3><p>\u521B\u5EFA\u6B63\u5411 WebSocket \u8FDE\u63A5\u3002</p>',30),o=[s];function n(d,p,l,c,m,h){return i(),a("div",null,o)}var u=e(r,[["render",n]]);export{_ as __pageData,u as default};
